(()=>{"use strict";var t={445:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.arrow=void 0,e.arrow=function(t,e,n,o,s,i){let d=o-e,c=s-n,r=Math.sqrt(d*d+c*c),h=c/r,l=d/r,a=[];a.push(0,0);for(let t=0;t<i.length;t+=2){let e=i[t],n=i[t+1];a.push(e<0?r+e:e,n)}a.push(r,0);for(let t=i.length;t>0;t-=2){let e=i[t-2],n=i[t-1];a.push(e<0?r+e:e,-n)}a.push(0,0);for(let o=0;o<a.length;o+=2){let s=a[o]*l-a[o+1]*h+e,i=a[o]*h+a[o+1]*l+n;0===o?t.moveTo(s,i):t.lineTo(s,i)}}},325:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.drawEmptyChessboard=e.drawChessboard=void 0;const o=n(445),s=document.getElementById("canvasChessboard");function i(){const t=s.clientWidth/5;!function(t){const e=t.clientWidth,n=t.clientHeight;if(t.width!==e||t.height!==n)t.width=e,t.height=2*n}(s);const e=s.getContext("2d");for(let n=0;n<5;n++)for(let o=0;o<5;o++){e.fillStyle=(n+o)%2==0?"white":"black";const s=o*t,i=n*t;e.fillRect(s,i,t,t)}return e.fillStyle="cyan",e.fillRect(2*t,4*t,t,t),e}function d(t,e,n,s,i,d){t.beginPath(),o.arrow(t,(n+.5)*e,(s+.5)*e,(i+.5)*e,(d+.5)*e,[0,5,-20,5,-20,15]),t.fill(),t.beginPath(),o.arrow(t,(n+.5)*e,(s+.5)*e,(i+.5)*e,(d+.5)*e,[0,5,-20,5,-20,15]),t.stroke()}e.drawEmptyChessboard=i,e.drawChessboard=function(t,e,n,o){const c=i(),r=s.clientWidth/5;let h=document.getElementById("imagesource");const l=t*r+5,a=e*r+5;c.drawImage(h,l,a,r-10,r-10),c.fillStyle="black",c.strokeStyle="white",c.lineWidth=3,d(c,r,t,e,n,o),d(c,r,n,o,2,4),c.stroke()}}},e={};function n(o){var s=e[o];if(void 0!==s)return s.exports;var i=e[o]={exports:{}};return t[o](i,i.exports,n),i.exports}(()=>{const t=n(325),e=[2,3,4],o=[[0,1],[0,-1],[1,0],[-1,0]];class s{constructor(t,e){this.x=t,this.y=e}cartesianDistance(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}validPointsWithinN(t){const e=[],n=[this],i=new Set;for(i.add(this.hash());;){const d=n.shift();if(void 0===d||d.cartesianDistance(this)>t)break;if(d.cartesianDistance(this)!==t)for(const t of o){const e=new s(d.x+t[0],d.y+t[1]);if(!e.isValid())continue;const o=e.hash();i.has(o)||(n.push(e),i.add(o))}else e.push(d)}return e}hash(){return 10*this.x+this.y}isValid(){return this.x>=0&&this.x<=4&&this.y>=0&&this.y<=4}}const i=new s(2,4),d=[new Map([[5,[new s(1,0),new s(3,0)]],[6,[new s(0,0),new s(4,0)]],[7,[new s(1,0),new s(3,0)]]]),new Map([[5,[new s(0,1),new s(4,1)]],[6,[new s(1,1),new s(3,1)]],[7,[new s(2,1)]]])],c=new Map;!function(){for(const t of e){const e=new Set;for(const n of i.validPointsWithinN(t))e.add(n.hash());c.set(t,e)}}(),t.drawEmptyChessboard();const r=document.getElementById("ok"),h=document.getElementById("ng"),l=document.getElementById("wall-btn"),a=document.getElementById("away-wall-btn"),f=document.getElementById("debuff1-2"),u=document.getElementById("debuff1-3"),m=document.getElementById("debuff1-4"),g=document.getElementById("debuff2-2"),y=document.getElementById("debuff2-3"),w=document.getElementById("debuff2-4"),b=document.getElementById("left-1"),p=document.getElementById("left-2"),E=document.getElementById("left-3"),I=document.getElementById("right-1"),x=document.getElementById("right-2"),B=document.getElementById("right-3");r.hidden=!0,h.hidden=!1;let v=-1,k=[-1,-1],C=-99,M=-99;function P(e,n){e.addEventListener("click",(function(e){n(),function(e,n,o,s){try{const[i,l]=function(t,e,n){if(t<0||e.length<2||e[0]<0||e[1]<0||n.length<2||n[0]<0||n[0]>4||n[1]<0||n[1]>4)throw"not ready";const o=e[0]+e[1],s=c.get(e[1]);if(void 0===s)throw"missing endgame";const i=d[t].get(o);if(void 0===i)throw"missing opener";for(const t of i){const o=t.validPointsWithinN(e[0]),i=[];for(const t of o)t.x!==n[0]&&t.x!==n[1]&&i.push(t);const d=[];for(const t of i)s.has(t.hash())&&d.push(t);if(d.length>0)return[t,d]}throw"solution not found"}(e,n,[1+o,3-s]),a=l[0];t.drawChessboard(i.x,i.y,a.x,a.y),console.log("start: (%d,%d), second: (%d,%d)",i.x,i.y,a.x,a.y),r.hidden=!1,h.hidden=!0}catch(t){console.log("path not generated:",t),r.hidden=!0,h.hidden=!1}}(v,k,C,M)}))}P(l,(()=>{v=0})),P(a,(()=>{v=1})),P(f,(()=>{k[0]=2})),P(u,(()=>{k[0]=3})),P(m,(()=>{k[0]=4})),P(g,(()=>{k[1]=2})),P(y,(()=>{k[1]=3})),P(w,(()=>{k[1]=4})),P(b,(()=>{M=1})),P(p,(()=>{M=2})),P(E,(()=>{M=3})),P(I,(()=>{C=1})),P(x,(()=>{C=2})),P(B,(()=>{C=3}))})()})();